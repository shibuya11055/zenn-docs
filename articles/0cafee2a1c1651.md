---
title: "Mermaidã§ERå›³ã®ã‚¹ã‚±ãƒƒãƒã‚’ã—ãŸã‚‰ç°¡å˜ã™ãã¦è¡æ’ƒã ã£ãŸ"
emoji: "ğŸ§œâ€â™‚ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["mermaid", "notion", "esa"]
published: true
---

æ˜¨å¹´æœ«ã€Notionã§mermaidã‚’åˆ©ç”¨ã—ãŸå›³ãŒæã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
https://www.notion.so/Notion-Diagrams-6d8bd0a3a0e442e2bd092fa77e8199aa#3c28c8e9f6f04d8fb88ddb2adc9519fc

ãã‚Œã‹ã‚‰ä»Šå¹´ã¯GitHubã€‚
https://github.blog/2022-02-14-include-diagrams-markdown-files-mermaid/

ãŸã ãªã‚“ã¨ãªãã€
ã€Œmermaidã£ã¦é›£ã—ã„ã‚“ã§ã—ã‚‡ã†ï¼Ÿã€
ã€Œå›³ã‚’æããªã‚“ã¦ã©ã†ã‚„ã‚‹ã­ã‚“ã€
ãã‚“ãªå›ºå®šè¦³å¿µãŒã‚ã‚Šã¾ã—ãŸã€‚

ã—ã‹ã—å¼Šç¤¾ã¯çµ¶è³›æ–°ã‚µãƒ¼ãƒ“ã‚¹ã®é–‹ç™ºä¸­ï¼
ã“ã‚Œã‹ã‚‰DBè¨­è¨ˆã—ã¦ã„ããï¼
ãªãƒ•ã‚§ãƒ¼ã‚ºã ã£ãŸã®ã§ä½¿ã£ã¦ã¿ãŸã‚‰ã¨ã‚“ã§ã‚‚ãªãç°¡å˜ã«ä½¿ãˆã¦ã³ã£ãã‚Šã—ã¾ã—ãŸã€‚

# æ›¸ãæ–¹
## ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã‚‹
é©šãã®ç°¡å˜ã•ã€‚
```
erDiagram

users {
  string name
  string email
  integer age
}
```
â†“
```mermaid
erDiagram

users {
  string name
  string email
  integer age
}
```

ã¾ãš`erDiagram`ã‚’å®£è¨€ã—ã¾ã™ã€‚
æ¬¡ã«JavaScriptã§ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã‚ˆã†ã«å‹ã¨ã‚«ãƒ©ãƒ åã‚’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§å®šç¾©ã—ã¾ã™ã€‚

**ã“ã‚Œã ã‘ï¼ï¼**
ã‚‚ã†è¡¨ã‚’ä½œã£ã¦ã‚ãƒ¼ã—ã¦ã“ãƒ¼ã—ã¦ãªã‚“ã¦ã§ãã¾ã›ã‚“ã€‚

## ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æã
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨˜äº‹ã‚’è¤‡æ•°æŒã¦ã‚‹çŠ¶æ³ã‚’æƒ³å®šã—ã€1:å¤šã®ERå›³ã‚’ä½œæˆã—ã¾ã™ã€‚
```
users ||--o{ articles: ""

users {
  string name
  string email
  integer age
}

articles {
  string title
  text text
}
```

â†“

```mermaid
erDiagram

users ||--o{ articles: ""

users {
  string name
  string email
  integer age
}

articles {
  bigint user_id
  string title
  text text
}
```

ã¾ãš`articles`ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’usersã¨åŒã˜ã‚ˆã†ã«ä½œã‚Šã¾ã—ãŸã€‚
æ¬¡ã«ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¼µã‚‹ãŸã‚ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚
```
users ||--o{ articles: ""
```
ã•ã£ããå‘ªæ–‡ã«è¦‹ãˆã‚‹å½¢ã§ã™ãŒå•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚
ERå›³ã‚’è¦‹ã¦ã¿ã‚‹ã¨æ°—ã¥ãã¯ãšã§ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/ec9c1b01253d-20220225.png)
å½¢ãŒãã£ãã‚Šï¼

åˆ†è§£ã™ã‚‹ã¨ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```
users ||--o{ articles: ""

"||" -> 1
"--" -> ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¹‹ã’ã‚‹ç·š
"o{" -> 0 or n
```

ã¾ãŸãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å…ˆã®ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã«æ–‡å­—ã‚’å…¥ã‚Œã‚‹ã¨ã€ç·šä¸Šã«ã‚³ãƒ¡ãƒ³ãƒˆãŒå…¥ã‚Šã¾ã™ã€‚
```
users ||--o{ articles: "1:n"
```
```mermaid
erDiagram

users ||--o{ articles: "1:n"

users {
  string name
  string email
  integer age
}

articles {
  bigint user_id
  string title
  text text
}
```

## ERå›³ã®è¨˜å·ã‚’ãŠã•ã‚‰ã„
é–¢ä¿‚æ€§ã¯ã“ã®é€šã‚Š
[ã‚„ã•ã—ã„å›³è§£ã§å­¦ã¶ã€€ERå›³ã€€è¡¨è¨˜æ³•ä¸€è¦§](https://qiita.com/ramuneru/items/32fbf3032b625f71b69d)ã‚ˆã‚Š
![](https://storage.googleapis.com/zenn-user-upload/4d993d48d9ee-20220225.png)

`1`ã‚’è¡¨ã—ãŸã„ã¨ãã¯`|`ã‚’ä½¿ã„ã¾ã™ã€‚
`å¤š`ã‚’è¡¨ã—ãŸã„ã¨ãã¯`{`ã¾ãŸã¯`}`ã‚’ä½¿ã„ã¾ã™ã€‚
`0`ã‚’è¡¨ã—ãŸã„ã¨ãã¯`o`ã‚’ä½¿ã„ã¾ã™ã€‚

ã“ã‚Œã•ãˆè¦šãˆã¦ã—ã¾ãˆã°ã‚ã¨ã¯æ€ã„ã®ã¾ã¾æ›¸ãã ã‘ã§ã™ï¼

1:0or1
```
erDiagram

users ||--o| articles: ""

users {
  test test
}

articles {
  test test
}
```
```mermaid
erDiagram

users ||--o| articles: ""

users {
  test test
}

articles {
  test test
}

```

1:nï¼ˆ0ã¯ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
```
erDiagram

users ||--|{ articles: ""

users {
  test test
}

articles {
  test test
}
```
```mermaid
erDiagram

users ||--|{ articles: ""

users {
  test test
}

articles {
  test test
}
```

ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«ã®å ´åˆ
```
erDiagram
menus ||--|{ menu_options: ""
ãƒ‰ãƒƒãƒˆã«ã™ã‚‹ã¨ç ´ç·šã«ãªã‚‹
options ||..|{ menu_options: ""
menus {
  test test
}

options {
  test test
}

menu_options {
  menu_id
  option_id
}
```
```mermaid
erDiagram
menus ||--|{ menu_options: ""
options ||..|{ menu_options: ""
menus {
  test test
}

options {
  test test
}

menu_options {
  menu_id
  option_id
}
```
# mermaidã§æ›¸ãã“ã¨ã®ä½•ãŒã„ã„ã‹ã£ã¦
## å…¨ã¦æ–‡å­—ã§æã‘ã‚‹ã®ã§è¡¨ï¼ˆã‚»ãƒ«ï¼‰ã«ã¤ã„ã¦è€ƒãˆã‚‹ã“ã¨ãŒä¸€åˆ‡ãªã„
æ¥½ã€‚
## è¿½åŠ ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ãŒç°¡å˜ã«ãªã‚‹
ãƒ¡ãƒ³ãƒãƒ¼ã¨è©±ã—åˆã„ãªãŒã‚‰ã®ä¿®æ­£ã‚‚ã•ã•ã£ã¨ã€‚
## ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ç·šã‚’å¼•ã£å¼µã‚‹å¿…è¦ãŒãªã„
å›³ã‚’æãã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è§¦ã£ã¦ã„ã‚‹ã¨ã€Œã“ã®ç·šå¤‰ãªã¨ã“ã‚ã‹ã‚‰ç”Ÿãˆã¦ã‚‹ã‹ã‚‰ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ä¿®æ­£ã—ã¦~ã€ã¨ã„ã£ãŸå ´é¢ãŒã§ã¦ãã¾ã™ãŒã€mermaidãªã‚‰ã„ã„æ„Ÿã˜ã«å¼•ã£å¼µã£ã¦ãã‚Œã¾ã™ã€‚

# ã‚ã¨ãŒã
ãªã‚“ã‹é›£ã—ãã†ã ã—ã€å¿…é ˆã§è¦šãˆãªãã¦ã‚‚ã„ã„ã‚‚ã®ã ã—ãƒ»ãƒ»ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒå­¦ç¿’ã‚³ã‚¹ãƒˆãŒæ¥µç«¯ã«å°‘ãªãã‚³ã‚¹ãƒ‘ã®è‰¯ã•é©šãã¾ã—ãŸã€‚
mermaidã«ã¯ä»–ã®å›³å¼ã‚’æ›¸ããŸã‚ã®è¨˜æ³•ãŒã¾ã ã¾ã ã‚ã‚‹ã®ã§ã€æ©Ÿä¼šãŒã‚ã‚Œã°è§¦ã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚

# ã‚ã¨ãŒãã®ã‚ã¨ãŒã
å¼Šç¤¾ã€WEBã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‹Ÿé›†ä¸­ã§ã™ï¼ï¼
https://diddyworks.co.jp/recruit
